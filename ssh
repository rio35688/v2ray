#!/bin/bash
# ==================================================
# V3Ray Manager - SSH Management Only
# ==================================================

C_RESET=$'\033[0m'
C_BOLD=$'\033[1m'
C_RED=$'\033[38;5;196m'
C_GREEN=$'\033[38;5;46m'
C_YELLOW=$'\033[38;5;226m'
C_BLUE=$'\033[38;5;39m'
C_PURPLE=$'\033[38;5;135m'
C_CYAN=$'\033[38;5;51m'

if [[ $EUID -ne 0 ]]; then
   echo -e "${C_RED}âŒ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª ÙŠØ­ØªØ§Ø¬ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø±ÙˆØª${C_RESET}"
   exit 1
fi

# ==================================================
# Ø¯ÙˆØ§Ù„ SSH
# ==================================================
show_banner() {
    clear
    local users=$(who | wc -l)
    local ip=$(curl -s ifconfig.me 2>/dev/null || echo "ØºÙŠØ± Ù…ØªÙˆÙØ±")
    local port=$(grep -E "^Port" /etc/ssh/sshd_config | awk '{print $2}' || echo "22")
    
    echo -e "${C_PURPLE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${C_RESET}"
    echo -e "${C_PURPLE}â•‘     ${C_BOLD}ğŸ”Œ V3Ray Manager - SSH Management${C_RESET}${C_PURPLE}              â•‘${C_RESET}"
    echo -e "${C_PURPLE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${C_RESET}"
    echo -e "${C_PURPLE}â•‘${C_RESET}  ğŸ–¥ï¸  IP: ${C_CYAN}$ip${C_RESET}  |  Port: ${C_GREEN}$port${C_RESET}"
    echo -e "${C_PURPLE}â•‘${C_RESET}  ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†: ${C_YELLOW}$users${C_RESET}"
    echo -e "${C_PURPLE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${C_RESET}"
    echo ""
}

press_enter() {
    echo ""
    read -p "Ø§Ø¶ØºØ· Enter Ù„Ù„Ø¹ÙˆØ¯Ø©..."
}

ssh_status() {
    if systemctl is-active --quiet sshd 2>/dev/null || systemctl is-active --quiet ssh 2>/dev/null; then
        echo -e "${C_GREEN}âœ… Ø´ØºØ§Ù„${C_RESET}"
    else
        echo -e "${C_RED}âŒ Ù…ÙˆÙ‚Ù${C_RESET}"
    fi
}

# ==================================================
# Ù‚Ø§Ø¦Ù…Ø© SSH
# ==================================================
ssh_menu() {
    while true; do
        show_banner
        echo -e "${C_BOLD}${C_PURPLE}ğŸ“Œ Ù‚Ø§Ø¦Ù…Ø© Ø¥Ø¯Ø§Ø±Ø© SSH${C_RESET}\n"
        
        local status=$(ssh_status)
        echo -e "  Ø­Ø§Ù„Ø© SSH: $status\n"
        
        echo -e "  ${C_GREEN}[1]${C_RESET} ğŸ“Š Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© SSH (Ù…ÙØµÙ„)"
        echo -e "  ${C_GREEN}[2]${C_RESET} ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ SSH"
        echo -e "  ${C_GREEN}[3]${C_RESET} â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù SSH"
        echo -e "  ${C_GREEN}[4]${C_RESET} â–¶ï¸ ØªØ´ØºÙŠÙ„ SSH"
        echo -e "  ${C_GREEN}[5]${C_RESET} ğŸ”‘ ØªØºÙŠÙŠØ± Ø¨ÙˆØ±Øª SSH"
        echo -e "  ${C_GREEN}[6]${C_RESET} ğŸš« Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…"
        echo -e "  ${C_GREEN}[7]${C_RESET} ğŸ”“ ÙÙƒ Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…"
        echo -e "  ${C_GREEN}[8]${C_RESET} ğŸ“‹ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†"
        echo -e "  ${C_GREEN}[9]${C_RESET} ğŸ“‹ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"
        echo -e "  ${C_GREEN}[10]${C_RESET} ğŸ‘¤ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"
        echo -e "  ${C_GREEN}[11]${C_RESET} ğŸ—‘ï¸ Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…"
        echo -e "  ${C_GREEN}[12]${C_RESET} ğŸ”‘ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù…Ø³ØªØ®Ø¯Ù…"
        echo -e "  ${C_GREEN}[13]${C_RESET} ğŸ¨ Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¹Ø§Ø± SSH (Banner)"
        echo -e "  ${C_GREEN}[14]${C_RESET} ğŸ”’ ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØª"
        echo -e "  ${C_GREEN}[15]${C_RESET} ğŸ“ Ø¹Ø±Ø¶ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª SSH"
        echo -e "  ${C_RED}[0]${C_RESET} ğŸšª Ø®Ø±ÙˆØ¬"
        echo ""
        read -p "Ø§Ø®ØªØ±: " choice
        
        case $choice in
            1)
                echo -e "\n${C_BLUE}ğŸ” Ø­Ø§Ù„Ø© Ø®Ø¯Ù…Ø© SSH:${C_RESET}"
                systemctl status sshd --no-pager -l 2>/dev/null || systemctl status ssh --no-pager -l
                press_enter
                ;;
            2)
                echo -e "\n${C_BLUE}ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ SSH...${C_RESET}"
                systemctl restart sshd 2>/dev/null || systemctl restart ssh
                echo -e "${C_GREEN}âœ… ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„${C_RESET}"
                press_enter
                ;;
            3)
                echo -e "\n${C_BLUE}â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù SSH...${C_RESET}"
                systemctl stop sshd 2>/dev/null || systemctl stop ssh
                echo -e "${C_GREEN}âœ… ØªÙ… Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù${C_RESET}"
                press_enter
                ;;
            4)
                echo -e "\n${C_BLUE}â–¶ï¸ ØªØ´ØºÙŠÙ„ SSH...${C_RESET}"
                systemctl start sshd 2>/dev/null || systemctl start ssh
                echo -e "${C_GREEN}âœ… ØªÙ… Ø§Ù„ØªØ´ØºÙŠÙ„${C_RESET}"
                press_enter
                ;;
            5)
                echo -e "\n${C_YELLOW}âš ï¸  ØªØ­Ø°ÙŠØ±: ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙˆØ±Øª Ù‚Ø¯ ÙŠÙ‚Ø·Ø¹ Ø§ØªØµØ§Ù„Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ${C_RESET}"
                current_port=$(grep -E "^Port" /etc/ssh/sshd_config | awk '{print $2}')
                echo -e "Ø§Ù„Ø¨ÙˆØ±Øª Ø§Ù„Ø­Ø§Ù„ÙŠ: ${C_CYAN}$current_port${C_RESET}"
                read -p "Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¨ÙˆØ±Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯: " new_port
                if [[ "$new_port" =~ ^[0-9]+$ ]] && [ "$new_port" -ge 1 ] && [ "$new_port" -le 65535 ]; then
                    # Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                    cp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup.$(date +%Y%m%d)
                    
                    # ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙˆØ±Øª
                    if grep -q "^Port" /etc/ssh/sshd_config; then
                        sed -i "s/^Port [0-9]*/Port $new_port/" /etc/ssh/sshd_config
                    else
                        echo "Port $new_port" >> /etc/ssh/sshd_config
                    fi
                    
                    # ÙØªØ­ Ø§Ù„Ø¨ÙˆØ±Øª ÙÙŠ Ø§Ù„ÙØ§ÙŠØ±ÙˆÙˆÙ„
                    if command -v ufw &> /dev/null; then
                        ufw allow $new_port/tcp > /dev/null 2>&1
                        echo -e "${C_GREEN}âœ… ØªÙ… ÙØªØ­ Ø§Ù„Ø¨ÙˆØ±Øª $new_port ÙÙŠ UFW${C_RESET}"
                    fi
                    
                    # Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ SSH
                    systemctl restart sshd 2>/dev/null || systemctl restart ssh
                    echo -e "${C_GREEN}âœ… ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙˆØ±Øª Ø¥Ù„Ù‰ $new_port${C_RESET}"
                    echo -e "${C_YELLOW}âš ï¸  Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙˆØ±Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§ØªØµØ§Ù„Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…${C_RESET}"
                else
                    echo -e "${C_RED}âŒ Ø¨ÙˆØ±Øª ØºÙŠØ± ØµØ§Ù„Ø­${C_RESET}"
                fi
                press_enter
                ;;
            6)
                echo -e "\n${C_BLUE}ğŸš« Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…${C_RESET}"
                read -p "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " username
                if id "$username" &>/dev/null; then
                    passwd -l "$username"
                    pkill -u "$username" 2>/dev/null
                    echo -e "${C_GREEN}âœ… ØªÙ… Ø­Ø¸Ø± $username ÙˆØ¥Ù†Ù‡Ø§Ø¡ Ø¬Ù„Ø³Ø§ØªÙ‡${C_RESET}"
                else
                    echo -e "${C_RED}âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯${C_RESET}"
                fi
                press_enter
                ;;
            7)
                echo -e "\n${C_BLUE}ğŸ”“ ÙÙƒ Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…${C_RESET}"
                read -p "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " username
                if id "$username" &>/dev/null; then
                    passwd -u "$username"
                    echo -e "${C_GREEN}âœ… ØªÙ… ÙÙƒ Ø§Ù„Ø­Ø¸Ø± Ø¹Ù† $username${C_RESET}"
                else
                    echo -e "${C_RED}âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯${C_RESET}"
                fi
                press_enter
                ;;
            8)
                echo -e "\n${C_BLUE}ğŸ“‹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ† Ø­Ø§Ù„ÙŠØ§Ù‹:${C_RESET}"
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                if [ $(who | wc -l) -eq 0 ]; then
                    echo "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†"
                else
                    who | awk '{printf "ğŸ‘¤ %-10s | Ù…Ù† %-15s | Ù…Ù†Ø° %s %s\n", $1, $5, $3, $4}'
                fi
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                echo -e "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†: ${C_GREEN}$(who | wc -l)${C_RESET}"
                press_enter
                ;;
            9)
                echo -e "\n${C_BLUE}ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…:${C_RESET}"
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                awk -F: '$3>=1000 {print "ğŸ‘¤ " $1}' /etc/passwd | sort
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                echo -e "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: ${C_GREEN}$(awk -F: '$3>=1000' /etc/passwd | wc -l)${C_RESET}"
                press_enter
                ;;
            10)
                echo -e "\n${C_BLUE}ğŸ‘¤ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯${C_RESET}"
                read -p "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " username
                if id "$username" &>/dev/null; then
                    echo -e "${C_RED}âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹${C_RESET}"
                else
                    useradd -m -s /bin/bash "$username"
                    passwd "$username"
                    echo -e "${C_GREEN}âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… $username${C_RESET}"
                fi
                press_enter
                ;;
            11)
                echo -e "\n${C_BLUE}ğŸ—‘ï¸ Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…${C_RESET}"
                read -p "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " username
                if id "$username" &>/dev/null; then
                    read -p "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ (y/n): " confirm
                    if [[ "$confirm" == "y" ]]; then
                        userdel -r "$username"
                        echo -e "${C_GREEN}âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… $username${C_RESET}"
                    fi
                else
                    echo -e "${C_RED}âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯${C_RESET}"
                fi
                press_enter
                ;;
            12)
                echo -e "\n${C_BLUE}ğŸ”‘ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù…Ø³ØªØ®Ø¯Ù…${C_RESET}"
                read -p "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " username
                if id "$username" &>/dev/null; then
                    passwd "$username"
                else
                    echo -e "${C_RED}âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯${C_RESET}"
                fi
                press_enter
                ;;
            13)
                while true; do
                    echo -e "\n${C_BLUE}ğŸ¨ Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¹Ø§Ø± SSH${C_RESET}"
                    echo "1) Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ"
                    echo "2) Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±"
                    echo "3) Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø´Ø¹Ø§Ø±"
                    echo "4) Ø±Ø¬ÙˆØ¹"
                    read -p "Ø§Ø®ØªØ±: " banner_choice
                    
                    case $banner_choice in
                        1)
                            if [ -f /etc/ssh/banner ]; then
                                echo -e "\n${C_YELLOW}Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ:${C_RESET}"
                                cat /etc/ssh/banner
                            else
                                echo -e "${C_YELLOW}Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹${C_RESET}"
                            fi
                            ;;
                        2)
                            echo -e "${C_YELLOW}Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ctrl+D Ù„Ù„Ø­ÙØ¸ØŒ Ctrl+C Ù„Ù„Ø¥Ù„ØºØ§Ø¡):${C_RESET}"
                            cat > /etc/ssh/banner
                            # ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                            if ! grep -q "^Banner" /etc/ssh/sshd_config; then
                                echo "Banner /etc/ssh/banner" >> /etc/ssh/sshd_config
                            else
                                sed -i 's|^Banner.*|Banner /etc/ssh/banner|' /etc/ssh/sshd_config
                            fi
                            systemctl restart sshd 2>/dev/null || systemctl restart ssh
                            echo -e "${C_GREEN}âœ… ØªÙ… Ø­ÙØ¸ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±${C_RESET}"
                            ;;
                        3)
                            rm -f /etc/ssh/banner
                            sed -i '/^Banner/d' /etc/ssh/sshd_config
                            systemctl restart sshd 2>/dev/null || systemctl restart ssh
                            echo -e "${C_GREEN}âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø´Ø¹Ø§Ø±${C_RESET}"
                            ;;
                        4) break ;;
                    esac
                done
                ;;
            14)
                echo -e "\n${C_BLUE}ğŸ”’ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØª${C_RESET}"
                if grep -q "^PermitRootLogin yes" /etc/ssh/sshd_config; then
                    echo -e "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${C_GREEN}Ù…ÙØ¹Ù„${C_RESET}"
                    read -p "Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ¹Ø·ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØªØŸ (y/n): " disable_root
                    if [[ "$disable_root" == "y" ]]; then
                        sed -i 's/^PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config
                        systemctl restart sshd 2>/dev/null || systemctl restart ssh
                        echo -e "${C_GREEN}âœ… ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØª${C_RESET}"
                    fi
                else
                    echo -e "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${C_RED}Ù…Ø¹Ø·Ù„${C_RESET}"
                    read -p "Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙØ¹ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØªØŸ (y/n): " enable_root
                    if [[ "$enable_root" == "y" ]]; then
                        sed -i 's/^PermitRootLogin no/PermitRootLogin yes/' /etc/ssh/sshd_config
                        systemctl restart sshd 2>/dev/null || systemctl restart ssh
                        echo -e "${C_GREEN}âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±ÙˆØª${C_RESET}"
                    fi
                fi
                press_enter
                ;;
            15)
                echo -e "\n${C_BLUE}ğŸ“ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª SSH Ø§Ù„Ø­Ø§Ù„ÙŠØ©:${C_RESET}"
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                grep -E "^(Port|PermitRootLogin|PasswordAuthentication|Banner|ClientAliveInterval|ClientAliveCountMax)" /etc/ssh/sshd_config | grep -v "^#" || echo "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØµØµØ©"
                echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                press_enter
                ;;
            0)
                echo -e "\n${C_GREEN}Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©! ğŸ‘‹${C_RESET}"
                exit 0
                ;;
            *) echo -e "${C_RED}âŒ Ø®ÙŠØ§Ø± ØºÙŠØ± ØµØ§Ù„Ø­${C_RESET}"; sleep 1 ;;
        esac
    done
}

# ==================================================
# Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
# ==================================================
ssh_menu