# ==================================================
# FIREWALLFALCON - SSH Configuration
# معدل ومحسن لدعم V2Ray/X-UI
# ==================================================

# الإعدادات الأساسية
Port 22
Protocol 2
KeyRegenerationInterval 3600
ServerKeyBits 1024
SyslogFacility AUTH
LogLevel INFO

# إعدادات المصادقة
LoginGraceTime 120
PermitRootLogin yes
StrictModes yes
RSAAuthentication yes
PubkeyAuthentication yes
IgnoreRhosts yes
RhostsRSAAuthentication no
HostbasedAuthentication no
PermitEmptyPasswords no
PermitTunnel yes
ChallengeResponseAuthentication no
PasswordAuthentication yes

# إعدادات X11 والبيئة
X11Forwarding yes
X11DisplayOffset 10
PrintMotd no
PrintLastLog yes
TCPKeepAlive yes

# إعدادات البقاء متصلاً (مهم للـ VPN)
ClientAliveInterval 60
ClientAliveCountMax 3

# إعدادات إضافية محسنة
MaxAuthTries 3
MaxSessions 10
MaxStartups 10:30:60
UseDNS no
Compression yes
AllowTcpForwarding yes
GatewayPorts yes
PermitTunnel yes

# البيئة
AcceptEnv LANG LC_*
Subsystem sftp /usr/lib/openssh/sftp-server
UsePAM yes

# الشعار
Banner /etc/bannerssh

# ==================================================
# ملاحظات:
# - تمت إضافة ClientAliveInterval لمنع قطع الاتصال
# - تم تفعيل AllowTcpForwarding و GatewayPorts للـ VPN
# - تم تعطيل UseDNS لتسريع الاتصال
# ==================================================
